const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CatalogPage-DNDSicIJ.js","assets/vendor-D9sbH_qW.js","assets/getCarInfo-26oSzp43.js","assets/Button-DQJWfubB.js","assets/CarDetailsPage-Bs2JIn1y.js","assets/HomePage-DoXIGxrE.js"])))=>i.map(i=>d[i]);
import{a as b,c as g,b as o,d as E,p as _,e as w,F,R as M,P as B,f as A,g as D,h as I,s as T,u as W,j as s,A as k,T as H,N as f,B as O,H as z,r as c,_ as C,i as V,k as l,l as N,m as G,n as U,o as $,q,C as K,t as Y,v as J}from"./assets/vendor-D9sbH_qW.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))P(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&P(p)}).observe(document,{childList:!0,subtree:!0});function a(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function P(t){if(t.ep)return;t.ep=!0;const i=a(t);fetch(t.href,i)}})();const v=e=>{e.isLoading=!0,e.error=null},y=(e,{payload:r})=>{e.isLoading=!1,e.error={message:r?.data?.message||"Something went wrong",code:r?.status||500}},Q=e=>{e.isLoadingMore=!0,e.error=null},X=(e,{payload:r})=>{e.isLoadingMore=!1,e.error={message:r?.data?.message||"Something went wrong",code:r?.status||500}},u=b.create({baseURL:"https://car-rental-api.goit.global"}),h=g("cars/fetchCars",async(e={},r)=>{try{return(await u.get("/cars",{params:e})).data}catch(a){return r.rejectWithValue(a.response)}}),m=g("cars/fetchMoreCars",async(e={},r)=>{try{return(await u.get("/cars",{params:e})).data}catch(a){return r.rejectWithValue(a.response)}}),Z=o({name:"cars",initialState:{items:[],isLoading:!1,isLoadingMore:!1,error:null},extraReducers:e=>{e.addCase(h.pending,v).addCase(h.fulfilled,(r,{payload:a})=>{r.items=a,r.isLoading=!1}).addCase(h.rejected,y).addCase(m.pending,Q).addCase(m.fulfilled,(r,{payload:a})=>{r.items.cars=[...r.items.cars,...a.cars],r.items.totalCars=a.totalCars,r.items.page=a.page,r.items.totalPages=a.totalPages,r.isLoadingMore=!1}).addCase(m.rejected,X)}}),ee=Z.reducer,x=g("carDetails/fetchCarDetails",async(e,r)=>{try{return(await u.get(`/cars/${e}`)).data}catch(a){return r.rejectWithValue(a.response)}}),re=o({name:"carDetails",initialState:{item:{},isLoading:!1,error:null},extraReducers:e=>{e.addCase(x.pending,v),e.addCase(x.fulfilled,(r,{payload:a})=>{r.item=a,r.isLoading=!1}),e.addCase(x.rejected,y)}}),se=re.reducer,j=g("brands/fetchBrands",async(e,r)=>{try{return(await u.get("/brands")).data}catch(a){return r.rejectWithValue(a.message)}}),ae={brands:[],isLoading:!1,error:null},te=o({name:"brands",initialState:ae,extraReducers:e=>{e.addCase(j.pending,v).addCase(j.fulfilled,(r,a)=>{r.brands=a.payload,r.isLoading=!1}).addCase(j.rejected,y)}}),ie=te.reducer,d={carBrand:"",carPrice:"",carMileage:{from:"",to:""}},L=o({name:"filters",initialState:d,reducers:{setCarBrandFilter:(e,{payload:r})=>{e.carBrand=r},setCarPriceFilter:(e,{payload:r})=>{e.carPrice=r},setCarMileageFilter:(e,{payload:r})=>{e.carMileage[r.name]=r.value},clearFilters:e=>{e.carBrand=d.carBrand,e.carPrice=d.carPrice,e.carMileage=d.carMileage}}}),{setCarBrandFilter:Ce,setCarPriceFilter:ve,setCarMileageFilter:ye,clearFilters:Pe}=L.actions,ne=L.reducer,S=o({name:"favorite",initialState:{items:[]},reducers:{addFavorite:(e,{payload:r})=>{e.items.push(r)},removeFavorite:(e,{payload:r})=>{e.items=e.items.filter(a=>a!==r)}}}),{addFavorite:Le,removeFavorite:Se}=S.actions,oe=S.reducer,ce=w({key:"favoritesCars",storage:T,whitelist:["items"],version:1},oe),R=E({reducer:{cars:ee,favorites:ce,carDetails:se,brands:ie,filters:ne},middleware:e=>e({serializableCheck:{ignoredActions:[F,M,B,A,D,I]}})}),le=_(R),n={appBar:{backgroundColor:"var(--badges)",boxShadow:"none"},toolbar:{width:"100%",maxWidth:"1440px",margin:"0 auto",padding:"24px 120px",display:"flex",alignItems:"center",justifyContent:"space-between"},logo:{width:"104px",height:"16px",svg:{width:"100%",height:"100%"}},linksWrapper:{display:"flex",alignItems:"center",gap:"32px"},link:{textDecoration:"none",color:"var(--main)",fontSize:"16px",fontWeight:"500",lineHeight:"1.25"},linkActive:{color:"var(--button)",fontSize:"16px",fontWeight:"500",lineHeight:"1.25"}},de=()=>{const e=W(),r=e.pathname==="/",a=e.pathname==="/catalog";return s.jsx(k,{position:"static",sx:n.appBar,children:s.jsxs(H,{sx:n.toolbar,disableGutters:!0,children:[s.jsx(f,{to:"/",style:n.logo,children:s.jsx("svg",{style:n.logo.svg,children:s.jsx("use",{href:"/rental-car/img/logo.svg"})})}),s.jsxs(O,{sx:n.linksWrapper,children:[s.jsx(f,{to:"/",style:r?n.linkActive:n.link,children:"Home"}),s.jsx(f,{to:"/catalog",style:a?n.linkActive:n.link,children:"Catalog"})]})]})})},ge={loaderWrapper:{padding:"20%",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},ue=({size:e=40})=>s.jsx("div",{style:ge.loaderWrapper,children:s.jsx(z,{color:"#3470ff",size:e})}),pe=c.lazy(()=>C(()=>import("./assets/CatalogPage-DNDSicIJ.js"),__vite__mapDeps([0,1,2,3]))),fe=c.lazy(()=>C(()=>import("./assets/CarDetailsPage-Bs2JIn1y.js"),__vite__mapDeps([4,1,2,3]))),he=c.lazy(()=>C(()=>import("./assets/HomePage-DoXIGxrE.js"),__vite__mapDeps([5,1,3]))),me=()=>s.jsxs(s.Fragment,{children:[s.jsx(de,{}),s.jsx("main",{children:s.jsx(c.Suspense,{fallback:s.jsx(ue,{size:60}),children:s.jsxs(V,{children:[s.jsx(l,{path:"/",element:s.jsx(he,{})}),s.jsx(l,{path:"/catalog",element:s.jsx(pe,{})}),s.jsx(l,{path:"/catalog/:carId",element:s.jsx(fe,{})}),s.jsx(l,{path:"*",element:s.jsx(N,{to:"/"})})]})})})]}),xe=G({typography:{fontFamily:"Manrope, sans-serif"}});U.createRoot(document.getElementById("root")).render(s.jsx(c.StrictMode,{children:s.jsx($,{basename:"/rental-car",children:s.jsxs(q,{theme:xe,children:[s.jsx(K,{}),s.jsx(Y,{store:R,children:s.jsx(J,{loading:null,persistor:le,children:s.jsx(me,{})})})]})})}));export{ue as L,ve as a,ye as b,Pe as c,Le as d,m as e,h as f,j as g,x as h,Se as r,Ce as s};
//# sourceMappingURL=index.js.map
