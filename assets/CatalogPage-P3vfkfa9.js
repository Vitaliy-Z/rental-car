import{l as x,m as i,j as e,F as B,I as F,S as w,M as L,B as p,n as m,o as C,p as j,r as M,q as S,G as A,s as D,t as H,v as q,w as G,x as V,y as N,z as O}from"./vendor-LfZjG9zQ.js";import{s as Q,a as _,b as J,f as W,c as K,L as u,r as U,d as X,e as Y,g as Z}from"../index.js";import{g as ee,C as te}from"./getCarInfo-KXOuzCCJ.js";import{B as b}from"./Button-CzFeJK1W.js";const re=t=>t.cars.items,oe=t=>t.cars.isLoading,se=t=>t.cars.isLoadingMore,ae=t=>t.cars.error,ne=t=>t.brands.brands,ie=t=>t.brands.isLoading,le=t=>t.brands.error,z=({filters:t})=>t.carBrand,P=({filters:t})=>t.carPrice,T=({filters:t})=>t.carMileage,ce=(t="",a="",n={from:"",to:""})=>{const s={};return t!==""&&(s.brand=t),a!==""&&(s.rentalPrice=a),n.from!==""&&(s.minMileage=n.from),n.to!==""&&(s.maxMileage=n.to),s},v={formControl:{width:"22.1%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},de=()=>{const t=x(),a=i(ne),n=i(z),s=o=>{t(Q(o.target.value))};return e.jsxs(B,{sx:v.formControl,children:[e.jsx(F,{id:"car-brand-select-label",children:"Choose a brand"}),e.jsx(w,{labelId:"car-brand-select-label",id:"car-brand-select",value:n,label:"Choose a brand",onChange:s,style:v.select,children:a.map((o,l)=>e.jsx(L,{value:o,children:o},o+l))})]})},xe=()=>Array.from({length:10},(t,a)=>(a+1)*10),y={formControl:{width:"21%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},pe=()=>{const t=x(),a=i(P),n=xe(),s=o=>{t(_(o.target.value))};return e.jsxs(B,{sx:y.formControl,children:[e.jsx(F,{id:"car-price-select-label",children:"Choose a price"}),e.jsx(w,{labelId:"car-price-select-label",id:"car-price-select",value:a,label:"Choose a price",onChange:s,style:y.select,children:n.map((o,l)=>e.jsx(L,{value:o,children:o},o+l))})]})},d={container:{position:"relative",width:"34.65%"},label:{position:"absolute",top:"-9px",left:"15px",zIndex:99,fontWeight:400,fontSize:"12px",lineHeight:1.33},formControl:{display:"flex",flexDirection:"row",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",borderRadius:"12px",border:"none",overflow:"hidden"},textField:{padding:"12px 5px 12px 24px",alignItems:"baseline",backgroundColor:"var(--inputs)",border:"none"},separator:{width:"2px",backgroundColor:"var(--gray-light)"}},he=()=>{const t=x(),{from:a,to:n}=i(T),s=l=>l.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),o=l=>{const{name:h,value:g}=l.target,f=g.replace(/,/g,"");t(J({name:h,value:f}))};return e.jsxs(p,{sx:d.container,children:[e.jsx(m,{color:"primary",sx:d.label,children:"Ð¡ar mileage / km"}),e.jsxs(p,{sx:d.formControl,children:[e.jsx(C,{sx:d.textField,name:"from",startAdornment:e.jsx(j,{position:"start",children:"From"}),onChange:o,value:s(a),autoComplete:"off"}),e.jsx("span",{style:d.separator}),e.jsx(C,{sx:d.textField,name:"to",startAdornment:e.jsx(j,{position:"start",children:"To"}),onChange:o,value:s(n),autoComplete:"off"})]})]})},I={container:{maxWidth:"924px",margin:"0 auto",marginBottom:"56px",display:"flex",flexWrap:"wrap",flexDirection:"row",alignItems:"stretch",gap:"16px"},button:{width:"17%"}},ge=()=>{const t=x(),a=i(z),n=i(P),s=i(T),o=()=>{t(W(ce(a,n,s))),t(K())};return e.jsxs(p,{sx:I.container,children:[e.jsx(de,{}),e.jsx(pe,{}),e.jsx(he,{}),e.jsx(b,{style:I.button,onClick:o,children:"Search"})]})},me=t=>t.favorites.items,c={card:{width:"calc((100% - 32px*3)/4)",height:"424px",boxShadow:"none"},imgWrapper:{position:"relative"},img:{width:"100%",height:"268px",marginBottom:"16px",borderRadius:"14px",objectFit:"cover"},favoriteButton:{position:"absolute",top:"16px",right:"16px",zIndex:99,width:"16px",height:"15px"},favoriteFillIcon:{color:"var(--button)"},favoriteBorderIcon:{color:"var(--badges)"},cardContent:{padding:"0px",height:"33%",display:"flex",flexDirection:"column",justifyContent:"space-between","&:last-child":{paddingBottom:"0px"}},carInfoTitle:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",fontWeight:500,fontSize:"16px",lineHeight:1.25,"& span":{color:"var(--button)"}},carInfoTextWrapper:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"8px"},carInfoText:{marginBottom:"auto",fontWeight:400,fontSize:"12px",lineHeight:1.33,color:"var(--gray)"},readMoreButton:{width:"100%"},loadMoreButton:{display:"flex",margin:"0 auto",marginTop:"80px",width:"156px"},loaderWrapper:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"80px",height:"40px"}},fe=()=>{const[t,a]=M.useState(1),n=S(),s=x(),o=i(re),l=i(se),h=i(me);if(!o)return e.jsx(u,{size:60});const{cars:g=[],totalCars:f}=o,k=g.map(r=>({...r,carInfo:ee(r)})),R=r=>{h.includes(r)?s(U(r)):s(X(r))},E=r=>{n(`/catalog/${r}`)},$=()=>{s(Y({page:t+1})),a(t+1)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{container:!0,rowSpacing:6,columnSpacing:4,children:k.map(r=>e.jsxs(D,{sx:c.card,children:[e.jsxs(p,{sx:c.imgWrapper,children:[e.jsx(H,{component:"img",height:"180",image:r.img,alt:`Foto of ${r.brand}`,sx:c.img}),e.jsx(q,{onClick:()=>R(r.id),sx:c.favoriteButton,children:h.includes(r.id)?e.jsx(G,{sx:c.favoriteFillIcon}):e.jsx(V,{sx:c.favoriteBorderIcon})})]}),e.jsxs(N,{sx:c.cardContent,children:[e.jsxs("div",{style:c.carInfoTextWrapper,children:[e.jsxs(p,{sx:c.carInfoTitle,children:[e.jsxs(m,{variant:"subtitle1",children:[r.brand," ",e.jsx("span",{children:r.model}),", ",r.year]}),e.jsxs(m,{variant:"subtitle1",children:["$",r.rentalPrice]})]}),e.jsxs(m,{sx:c.carInfoText,children:[r.carInfo.city," | ",r.carInfo.country," |"," ",r.carInfo.company," | ",e.jsx("br",{}),r.carInfo.type," | ",r.carInfo.mileage," km"]})]}),e.jsx(b,{style:c.readMoreButton,onClick:()=>E(r.id),children:"Read more"})]})]},r.id))}),l?e.jsx("div",{style:c.loaderWrapper,children:e.jsx(u,{size:30})}):g.length<f&&e.jsx(b,{style:c.loadMoreButton,variant:"outlined",onClick:$,disabled:l,children:"Load more"})]})},ve=()=>{const t=x(),a=S(),n=i(oe),s=i(ie),o=i(ae),l=i(le);return M.useEffect(()=>{t(W()),t(Z())},[t]),n||s?e.jsx(u,{size:60}):o||l?e.jsx(O,{severity:"error",sx:{width:"50%",margin:"0 auto",marginTop:"20px"},onClose:()=>a("/"),children:o?.message||l?.message}):e.jsxs(te,{children:[e.jsx(ge,{}),e.jsx(fe,{})]})};export{ve as default};
//# sourceMappingURL=CatalogPage-P3vfkfa9.js.map
