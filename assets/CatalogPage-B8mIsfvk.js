import{j as e,l as k,m as d,n as i,F as v,I as j,S as B,M as y,B as p,o as u,p as m,q as F,G as z,s as L,t as P,v as R,w as M,x as T,y as g,z as A,r as E,D as H}from"./vendor-CIGAbFwh.js";import{s as D,a as G,b as q,f as I,c as V,d as N,L as Q}from"../index.js";const U=r=>r.cars.items,_=r=>r.cars.isLoading,J=r=>r.cars.error,K=r=>r.brands.brands,O=r=>r.brands.isLoading,X=r=>r.brands.error,Y={container:{maxWidth:"1440px",margin:"0 auto",padding:"84px 120px 124px 120px"}},Z=({children:r})=>e.jsx(k,{maxWidth:"1440px",sx:Y.container,disableGutters:!0,children:r}),w=({filters:r})=>r.carBrand,S=({filters:r})=>r.carPrice,W=({filters:r})=>r.carMileage,ee=(r="",a="",s={from:"",to:""})=>{const n={};return r!==""&&(n.brand=r),a!==""&&(n.rentalPrice=a),s.from!==""&&(n.minMileage=s.from),s.to!==""&&(n.maxMileage=s.to),n},f={formControl:{width:"22.1%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},re=()=>{const r=d(),a=i(K),s=i(w),n=o=>{r(D(o.target.value))};return e.jsxs(v,{sx:f.formControl,children:[e.jsx(j,{id:"car-brand-select-label",children:"Choose a brand"}),e.jsx(B,{labelId:"car-brand-select-label",id:"car-brand-select",value:s,label:"Choose a brand",onChange:n,style:f.select,children:a.map((o,t)=>e.jsx(y,{value:o,children:o},o+t))})]})},te=()=>Array.from({length:10},(r,a)=>(a+1)*10),b={formControl:{width:"21%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},oe=()=>{const r=d(),a=i(S),s=te(),n=o=>{r(G(o.target.value))};return e.jsxs(v,{sx:b.formControl,children:[e.jsx(j,{id:"car-price-select-label",children:"Choose a price"}),e.jsx(B,{labelId:"car-price-select-label",id:"car-price-select",value:a,label:"Choose a price",onChange:n,style:b.select,children:s.map((o,t)=>e.jsx(y,{value:o,children:o},o+t))})]})},x={formControl:{width:"34.65%",display:"flex",flexDirection:"row",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",borderRadius:"12px",border:"none",overflow:"hidden"},textField:{padding:"12px 5px 12px 24px",alignItems:"baseline",backgroundColor:"var(--inputs)",border:"none"},separator:{width:"2px",backgroundColor:"var(--gray-light)"}},ne=()=>{const r=d(),{from:a,to:s}=i(W),n=t=>t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),o=t=>{const{name:c,value:h}=t.target,$=h.replace(/,/g,"");r(q({name:c,value:$}))};return e.jsxs(p,{sx:x.formControl,children:[e.jsx(u,{sx:x.textField,name:"from",startAdornment:e.jsx(m,{position:"start",children:"From"}),onChange:o,value:n(a),autoComplete:"off"}),e.jsx("span",{style:x.separator}),e.jsx(u,{sx:x.textField,name:"to",startAdornment:e.jsx(m,{position:"start",children:"To"}),onChange:o,value:n(s),autoComplete:"off"})]})},C={container:{maxWidth:"924px",margin:"0 auto",marginBottom:"56px",display:"flex",flexWrap:"wrap",flexDirection:"row",alignItems:"stretch",gap:"16px"},button:{width:"17%",fontWeight:"600",fontSize:"16px",lineHeight:"1.25",textTransform:"capitalize",borderRadius:"12px",backgroundColor:"var(--button)",color:"var(--white)","&:hover":{backgroundColor:"var(--button-hover)"}}},se=()=>{const r=d(),a=i(w),s=i(S),n=i(W),o=()=>{r(I(ee(a,s,n))),r(V())};return e.jsxs(p,{sx:C.container,children:[e.jsx(re,{}),e.jsx(oe,{}),e.jsx(ne,{}),e.jsx(F,{variant:"contained",sx:C.button,onClick:o,children:"Search"})]})},l={card:{width:"calc((100% - 32px*3)/4)",height:"424px",boxShadow:"none"},imgWrapper:{position:"relative"},img:{width:"100%",height:"268px",marginBottom:"16px",borderRadius:"14px",objectFit:"cover"},favoriteButton:{position:"absolute",top:"16px",right:"16px",zIndex:99,width:"16px",height:"15px"},favoriteBorderIcon:{color:"var(--badges)"},cardContent:{padding:0},carInfoTitle:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",fontWeight:500,fontSize:"16px",lineHeight:1.25,"& span":{color:"var(--button)"}},carInfoText:{marginBottom:"28px",fontWeight:400,fontSize:"12px",lineHeight:1.33,color:"var(--gray)"},readMoreButton:{borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"16px",background:"var(--button)","&:hover":{background:"var(--button-hover)"}}},ae=({items:r=[],favorites:a=[],onFavoriteToggle:s,onReadMore:n})=>{const o=t=>{const c=t.address.split(","),h=t.mileage.toLocaleString("en-US").replace(/,/g," ");return e.jsxs(e.Fragment,{children:[`${c[1]} | ${c[2]} | ${t.rentalCompany} |`,e.jsx("br",{}),`${t.type} | ${h} km`]})};return e.jsx(z,{container:!0,rowSpacing:6,columnSpacing:4,children:r.map(t=>e.jsxs(L,{sx:l.card,children:[e.jsxs(p,{sx:l.imgWrapper,children:[e.jsx(P,{component:"img",height:"180",image:t.img,alt:`Foto of ${t.brand}`,sx:l.img}),e.jsx(R,{onClick:()=>s(t.id),sx:l.favoriteButton,children:e.jsx(M,{sx:l.favoriteBorderIcon})})]}),e.jsxs(T,{sx:l.cardContent,children:[e.jsxs(p,{sx:l.carInfoTitle,children:[e.jsxs(g,{variant:"subtitle1",children:[t.brand," ",e.jsx("span",{children:t.model}),", ",t.year]}),e.jsxs(g,{variant:"subtitle1",children:["$",t.rentalPrice]})]}),e.jsx(g,{sx:l.carInfoText,children:o(t)}),e.jsx(F,{fullWidth:!0,variant:"contained",sx:l.readMoreButton,onClick:()=>n(t.id),children:"Read more"})]})]},t.id))})},ce=()=>{const r=d(),a=A(),s=i(U),n=i(_),o=i(O),t=i(J),c=i(X);return E.useEffect(()=>{r(I()),r(N())},[r]),n||o?e.jsx(Q,{size:60}):t||c?e.jsx(H,{severity:"error",sx:{width:"50%",margin:"0 auto",marginTop:"20px"},onClose:()=>a("/"),children:t?.message||c?.message}):e.jsxs(Z,{children:[e.jsx(se,{}),e.jsx(ae,{items:s?.cars})]})};export{ce as default};
//# sourceMappingURL=CatalogPage-B8mIsfvk.js.map
