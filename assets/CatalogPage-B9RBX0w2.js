import{j as e,l as z,m as p,n as i,F as v,I as j,S as y,M as B,B as x,o as h,p as m,q as u,s as F,G as $,t as L,v as P,w as R,x as M,y as T,z as A,r as E,D as H}from"./vendor-BllXoV0c.js";import{s as D,a as G,b as q,f as I,c as V,d as N,L as Q}from"../index.js";const U=r=>r.cars.items,_=r=>r.cars.isLoading,J=r=>r.cars.error,K=r=>r.brands.brands,O=r=>r.brands.isLoading,X=r=>r.brands.error,Y={container:{maxWidth:"1440px",margin:"0 auto",padding:"84px 120px 124px 120px"}},Z=({children:r})=>e.jsx(z,{maxWidth:"1440px",sx:Y.container,disableGutters:!0,children:r}),w=({filters:r})=>r.carBrand,S=({filters:r})=>r.carPrice,W=({filters:r})=>r.carMileage,ee=(r="",s="",a={from:"",to:""})=>{const n={};return r!==""&&(n.brand=r),s!==""&&(n.rentalPrice=s),a.from!==""&&(n.minMileage=a.from),a.to!==""&&(n.maxMileage=a.to),n},f={formControl:{width:"22.1%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},re=()=>{const r=p(),s=i(K),a=i(w),n=o=>{r(D(o.target.value))};return e.jsxs(v,{sx:f.formControl,children:[e.jsx(j,{id:"car-brand-select-label",children:"Choose a brand"}),e.jsx(y,{labelId:"car-brand-select-label",id:"car-brand-select",value:a,label:"Choose a brand",onChange:n,style:f.select,children:s.map((o,t)=>e.jsx(B,{value:o,children:o},o+t))})]})},te=()=>Array.from({length:10},(r,s)=>(s+1)*10),b={formControl:{width:"21%",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",backgroundColor:"var(--inputs)",borderRadius:"12px",border:"none","& fieldset":{borderRadius:"12px",border:"none"}}},oe=()=>{const r=p(),s=i(S),a=te(),n=o=>{r(G(o.target.value))};return e.jsxs(v,{sx:b.formControl,children:[e.jsx(j,{id:"car-price-select-label",children:"Choose a price"}),e.jsx(y,{labelId:"car-price-select-label",id:"car-price-select",value:s,label:"Choose a price",onChange:n,style:b.select,children:a.map((o,t)=>e.jsx(B,{value:o,children:o},o+t))})]})},d={container:{position:"relative",width:"34.65%"},label:{position:"absolute",top:"-9px",left:"15px",zIndex:99,fontWeight:400,fontSize:"12px",lineHeight:1.33},formControl:{display:"flex",flexDirection:"row",fontSize:"16px",fontWeight:"500",lineHeight:"1.25",color:"var(--main)",borderRadius:"12px",border:"none",overflow:"hidden"},textField:{padding:"12px 5px 12px 24px",alignItems:"baseline",backgroundColor:"var(--inputs)",border:"none"},separator:{width:"2px",backgroundColor:"var(--gray-light)"}},ne=()=>{const r=p(),{from:s,to:a}=i(W),n=t=>t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),o=t=>{const{name:c,value:g}=t.target,k=g.replace(/,/g,"");r(q({name:c,value:k}))};return e.jsxs(x,{sx:d.container,children:[e.jsx(h,{color:"primary",sx:d.label,children:"Ð¡ar mileage / km"}),e.jsxs(x,{sx:d.formControl,children:[e.jsx(m,{sx:d.textField,name:"from",startAdornment:e.jsx(u,{position:"start",children:"From"}),onChange:o,value:n(s),autoComplete:"off"}),e.jsx("span",{style:d.separator}),e.jsx(m,{sx:d.textField,name:"to",startAdornment:e.jsx(u,{position:"start",children:"To"}),onChange:o,value:n(a),autoComplete:"off"})]})]})},C={container:{maxWidth:"924px",margin:"0 auto",marginBottom:"56px",display:"flex",flexWrap:"wrap",flexDirection:"row",alignItems:"stretch",gap:"16px"},button:{width:"17%",fontWeight:"600",fontSize:"16px",lineHeight:"1.25",textTransform:"capitalize",borderRadius:"12px",backgroundColor:"var(--button)",color:"var(--white)","&:hover":{backgroundColor:"var(--button-hover)"}}},ae=()=>{const r=p(),s=i(w),a=i(S),n=i(W),o=()=>{r(I(ee(s,a,n))),r(V())};return e.jsxs(x,{sx:C.container,children:[e.jsx(re,{}),e.jsx(oe,{}),e.jsx(ne,{}),e.jsx(F,{variant:"contained",sx:C.button,onClick:o,children:"Search"})]})},l={card:{width:"calc((100% - 32px*3)/4)",height:"424px",boxShadow:"none"},imgWrapper:{position:"relative"},img:{width:"100%",height:"268px",marginBottom:"16px",borderRadius:"14px",objectFit:"cover"},favoriteButton:{position:"absolute",top:"16px",right:"16px",zIndex:99,width:"16px",height:"15px"},favoriteBorderIcon:{color:"var(--badges)"},cardContent:{padding:0},carInfoTitle:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",fontWeight:500,fontSize:"16px",lineHeight:1.25,"& span":{color:"var(--button)"}},carInfoText:{marginBottom:"28px",fontWeight:400,fontSize:"12px",lineHeight:1.33,color:"var(--gray)"},readMoreButton:{borderRadius:"12px",textTransform:"none",fontWeight:600,fontSize:"16px",background:"var(--button)","&:hover":{background:"var(--button-hover)"}}},se=({items:r=[],favorites:s=[],onFavoriteToggle:a,onReadMore:n})=>{const o=t=>{const c=t.address.split(","),g=t.mileage.toLocaleString("en-US").replace(/,/g," ");return e.jsxs(e.Fragment,{children:[`${c[1]} | ${c[2]} | ${t.rentalCompany} |`,e.jsx("br",{}),`${t.type} | ${g} km`]})};return e.jsx($,{container:!0,rowSpacing:6,columnSpacing:4,children:r.map(t=>e.jsxs(L,{sx:l.card,children:[e.jsxs(x,{sx:l.imgWrapper,children:[e.jsx(P,{component:"img",height:"180",image:t.img,alt:`Foto of ${t.brand}`,sx:l.img}),e.jsx(R,{onClick:()=>a(t.id),sx:l.favoriteButton,children:e.jsx(M,{sx:l.favoriteBorderIcon})})]}),e.jsxs(T,{sx:l.cardContent,children:[e.jsxs(x,{sx:l.carInfoTitle,children:[e.jsxs(h,{variant:"subtitle1",children:[t.brand," ",e.jsx("span",{children:t.model}),", ",t.year]}),e.jsxs(h,{variant:"subtitle1",children:["$",t.rentalPrice]})]}),e.jsx(h,{sx:l.carInfoText,children:o(t)}),e.jsx(F,{fullWidth:!0,variant:"contained",sx:l.readMoreButton,onClick:()=>n(t.id),children:"Read more"})]})]},t.id))})},ce=()=>{const r=p(),s=A(),a=i(U),n=i(_),o=i(O),t=i(J),c=i(X);return E.useEffect(()=>{r(I()),r(N())},[r]),n||o?e.jsx(Q,{size:60}):t||c?e.jsx(H,{severity:"error",sx:{width:"50%",margin:"0 auto",marginTop:"20px"},onClose:()=>s("/"),children:t?.message||c?.message}):e.jsxs(Z,{children:[e.jsx(ae,{}),e.jsx(se,{items:a?.cars})]})};export{ce as default};
//# sourceMappingURL=CatalogPage-B9RBX0w2.js.map
